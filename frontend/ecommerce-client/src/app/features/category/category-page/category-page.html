<h3>Category List</h3>

<!-- ---------- CREATE FORM ---------- -->
<form (submit)="addCategory($event)">
  <input
    type="text"
    placeholder="Kategori Adı"
    [value]="newCategoryName()"
    (input)="onNewCategoryNameChange($event)"
  />

  <input
    type="text"
    placeholder="Açıklama"
    [value]="newCategoryDescription()"
    (input)="onNewCategoryDescriptionChange($event)"
  />

  <button type="submit">Ekle</button>
</form>

<hr />

<!-- ---------- CATEGORY TABLE ---------- -->
<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Kategori Adı</th>
      <th>Açıklama</th>
      <th>İşlemler</th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let category of categories()">
      <td>{{ category.id }}</td>
      <td>{{ category.categoryName }}</td>
      <td>{{ category.description }}</td>
      <td>
        <button (click)="startEdit(category)">Güncelle</button>
        <button (click)="deleteCategory(category.id)">Sil</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- ---------- UPDATE FORM ---------- -->
<div *ngIf="selectedCategory()">
  <h4>Seçili Kategori Güncelle</h4>

  <form (submit)="updateCategory($event)">
    <input
      type="text"
      placeholder="Kategori Adı"
      [value]="editCategoryName()"
      (input)="onEditCategoryNameChange($event)"
    />

    <input
      type="text"
      placeholder="Açıklama"
      [value]="editCategoryDescription()"
      (input)="onEditCategoryDescriptionChange($event)"
    />

    <button type="submit">Kaydet</button>
    <button type="button" (click)="cancelEdit()">İptal</button>
  </form>
</div>
